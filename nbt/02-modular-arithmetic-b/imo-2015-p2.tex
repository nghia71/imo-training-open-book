\documentclass[../02-modular-arithmetic-b.tex]{subfiles}

\begin{document}

\begin{example*}[\gls{IMO 2015}/P2]\label{example:IMO-2015-P2}\textbf{[\nameref{definition:30M}]}
	Hãy tìm tất cả các bộ số nguyên dương $(a, b, c)$ sao cho mỗi số trong các số:
	\[
		ab - c, bc - a, ca - b
	\]
	là lũy thừa của 2.
\end{example*}

\begin{soln}\footnotemark(Cách 1)
	Các nghiệm của \( (a,b,c) \) là \( (2,2,2) \), \( (2,2,3) \), \( (2,6,11) \), \( (3,5,7) \) và các hoán vị của chúng.

	Trong toàn bộ chứng minh, giả sử rằng \( a \leq b \leq c \), do đó ta có  
	\[
		ab - c = 2^m, \quad ca - b = 2^n, \quad bc - a = 2^p,
	\]
	với \( m \leq n \leq p \). Lưu ý rằng \( a > 1 \), bởi nếu không thì \( b - c = 2^m \), điều này là không thể. Do đó,  
	\[
		2^n = ac - b \geq (a - 1)c \geq 2,
	\]
	nghĩa là \( n \) và \( p \) là các số dương.
	
	Quan sát rằng nếu \( a = b \geq 3 \), ta có \( a(c - 1) = 2^n \), do đó \( a \) và \( c - 1 \) đều là (số chẵn và) lũy thừa của 2.
	Khi đó \( c \) là số lẻ và \( a^2 - c = 2^m = 1 \). Suy ra \( c+1 = a^2 \) cũng là một lũy thừa của 2, điều này dẫn đến \( c = 3 \).
	Tuy nhiên, \( a = b = c = 3 \) không phải là một nghiệm; do đó, trường hợp \( a = b \geq 3 \) là không khả thi.
	
	Ta xét các trường hợp còn lại như sau.
	
	\textit{Trường hợp 1: \( a = 2 \)}
	Ta có  
	\[
		2b - c = 2^m, \quad 2c - b = 2^n, \quad bc - 2 = 2^p.
	\]
	Từ phương trình thứ hai, \( b \) là số chẵn. Từ phương trình thứ ba, nếu \( p = 1 \), thì \( b = c = 2 \);
	nếu \( p > 1 \), thì \( c \) là số lẻ, điều này dẫn đến \( m = 0 \).
	
	Khi đó, ta có  
	\[
		3b = 2^n + 2 \quad (\text{nên } n \geq 2), \quad 3c = 2^{n+1} + 1,
	\]
	và  
	\[
		(2^{n-1} + 1)(2^{n+1} + 1) = 9(2^{p-1} + 1).
	\]
	Từ đó suy ra  
	\[
		1 \equiv 9 \pmod{2^{n-1}} \implies n \leq 4.
	\]
	Suy ra \( n = 2 \) hoặc \( n = 4 \), và \( (b,c) \) có thể là \( (2,3) \) hoặc \( (6,11) \).
	Do đó, các nghiệm của \( (a,b,c) \) là \( (2,2,2) \), \( (2,2,3) \) hoặc \( (2,6,11) \).
	
	\textit{Trường hợp 2: \( 3 \leq a < b \leq c \)}
	Vì \( (a - 1)c \leq 2^n \), ta có \( c \leq 2^{n-1} \). Do đó,
	\[
		b + a < 2c \leq \frac{2^{n+1}}{a-1} \leq 2^n,\ b - a < c \leq 2^{n-1}.
	\]
	Từ đó suy ra \( b - a \) không chia hết cho \( 2^{n-1} \), và \( b + a \) không chia hết cho \( 2^{n-1} \) khi \( a \geq 5 \).  
	
	Cộng và trừ \( ac - b = 2^n \) và \( bc - a = 2^p \), ta thu được
	\[
		(c - 1)(b + a) = 2^p + 2^n,\ (c + 1)(b - a) = 2^p - 2^n.
	\]
	Từ phương trình thứ hai, \( c + 1 \) chia hết cho 4.
	Do đó, \( c - 1 \) không chia hết cho 4, điều này dẫn đến \( b + a < 2^n \) là một bội của \( 2^{n-1} \).
	Do đó, \( a \leq 4 \) và \( b + a = 2^{n-1} \).
	
	\textit{Trường hợp 2a: Xét \( a = 3 \)}
	Khi đó ta có  
	\[
		3b - c = 2^m, \quad 3c - b = 2^n, \quad b = 2^{n-1} - 3.
	\]
	Suy ra  
	\[
		2^{n-1} - 3 = 3 \cdot 2^{m-3} + 2^{n-3} \implies 2^{n-3} = 2^{m-3} + 1.
	\]
	Từ đó, ta suy ra \( m = 3 \), \( n = 4 \), \( b = 5 \) và \( c = 7 \).
	
	\textit{Trường hợp 2b: Xét \( a = 4 \)}
	Ta có \( 4c - b = 2^n \) và \( b = 2^{n-1} - 4 \), từ đó  
	\[
		c = 3 \cdot 2^{n-3} - 1.
	\]
	Tuy nhiên, điều kiện \( b \leq c \) dẫn đến \( 2^{n-3} \leq 3 \), và \( a < b \) dẫn đến \( 2^{n-3} > 2 \).
	Điều này là không thể, do đó không tồn tại nghiệm với \( a = 4 \).
	
	Vậy ta thu được \( (a,b,c) = (3,5,7) \) là nghiệm duy nhất với \( 3 \leq a < b \leq c \).
\end{soln}

\footnotetext{\samepage \href{https://artofproblemsolving.com/wiki/index.php/2015_IMO_Problems/Problem_2}{Lời giải chính thức.}}

\end{document}