\documentclass[../05-modular-arithmetic-a.tex]{subfiles}

\begin{document}

\begin{example*}[\gls{RUS 2015 TST}/D7/P5]\label{example:RUS-2015-D7-P5}\textbf{[\nameref{definition:35M}]}
	Cho số nguyên tố \( p \ge 5 \). Chứng minh rằng tồn tại số nguyên dương \( a < p - 1 \) sao cho cả hai số \( a^{p-1} - 1 \) và \( (a+1)^{p-1} - 1 \) đều không chia hết cho \( p^2 \).
\end{example*}

\begin{story*}
    Bài toán yêu cầu chứng minh rằng không phải mọi \( a < p - 1 \) đều thỏa mãn \( a^{p-1} \equiv 1 \Mod{p^2} \) hoặc \( (a+1)^{p-1} \equiv 1 \Mod{p^2} \).  
    Phương pháp hiệu quả là giả sử ngược lại — rằng mọi \( a \in \{1, \dots, p - 2\} \) đều thỏa mãn ít nhất một trong hai điều kiện — rồi sử dụng khai triển nhị thức để xây dựng mâu thuẫn thông qua đánh giá đồng dư modulo \( p^2 \).
\end{story*}

\bigbreak

\begin{soln}\footnotemark
	Giả sử tồn tại \( a \) sao cho \( p^2 \mid a^{p-1} - 1 \). Ta chứng minh:
	\begin{claim*}
		\( p^2 \nmid (p - a)^{p-1} \).
	\end{claim*}
	\begin{subproof}
		Sử dụng khai triển nhị thức:
		\[
			(p - a)^{p-1} \equiv a^{p-1} - 1 + pa^{p-2} \Mod{p^2}.
		\]
		Vì \( p^2 \mid a^{p-1} - 1 \Rightarrow (p - a)^{p-1} \equiv pa^{p-2} \not\equiv 0 \Mod{p^2} \). Đpcm.
	\end{subproof}

	\textbf{Giả sử phản chứng:} Với mọi \( 1 \le a \le p - 2 \), luôn có:
	\[
		p^2 \mid a^{p-1} - 1 \quad \text{hoặc} \quad p^2 \mid (a+1)^{p-1} - 1.
	\]

	Ta có \( p^2 \mid 1^{p-1} - 1 = 0 \Rightarrow \) giả sử phản chứng áp dụng tại \( a = 1 \).

	Từ khẳng định, \( p^2 \nmid (p-1)^{p-1} - 1 \Rightarrow p^2 \mid (p - 2)^{p-1} - 1 \).

	Khai triển:
	\[
		(p - 2)^{p-1} \equiv 2^{p-1} - p(p-1)2^{p-2} \Mod{p^2}
	\Rightarrow p^2 \mid 2^{p-1} - 1 + p2^{p-2}.
	\]

	Nhân hai vế với \( 2^{p-1} + 1 \), ta được:
	\[
		p^2 \mid 4^{p-1} - 1 + p2^{p-2}(2^{p-1} + 1). \tag{1}
	\]

	Mặt khác, lặp lại bước suy luận ta thu được:
	\[
		p^2 \mid 3^{p-1} - 1 \Rightarrow p^2 \nmid (p - 3)^{p-1} - 1 \Rightarrow p^2 \mid (p - 4)^{p-1} - 1
	\Rightarrow p^2 \mid 4^{p-1} - 1 + p4^{p-2}. \tag{2}
	\]

	So sánh (1) và (2):
	\[
		p \mid 4^{p-2} + 2^{p-2}.
	\]

	Nhưng theo định lý Fermat nhỏ:
	\[
		4^{p-1} \equiv 1,\quad 2^{p-1} \equiv 1 \Mod{p}
	\Rightarrow 4(4^{p-2} + 2^{p-2}) \equiv 4 + 2 \cdot 2 \equiv 8 \not\equiv 0 \Mod{p},
	\]
	cho nên mâu thuẫn.

	\textbf{Kết luận:} Giả thiết phản chứng sai \( \Rightarrow \)
	\[
		\boxed{\text{Tồn tại } a < p - 1 \text{ sao cho } a^{p-1} - 1 \text{ và } (a+1)^{p-1} - 1 \text{ đều không chia hết cho } p^2.}
	\]
\end{soln}

\footnotetext{\samepage \href{https://artofproblemsolving.com/community/c6h142625p33502347}{Lời giải của \textbf{HoshimiyaMukuro}.}}

\end{document}