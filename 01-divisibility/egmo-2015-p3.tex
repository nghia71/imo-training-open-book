\documentclass[../01-divisibility.tex]{subfiles}

\begin{document}

\begin{example*}[\gls{EGMO 2015}/P3]\label{example:EGMO-2015-P3}\textbf{[\nameref{definition:20M}]}
	Cho \( n, m \) là các số nguyên lớn hơn \( 1 \), và \( a_1, a_2, \dots, a_m \) là các số nguyên dương không vượt quá \( n^m \).
	Hãy chứng minh rằng tồn tại các số nguyên dương \( b_1, b_2, \dots, b_m \leq n \) sao cho:
	\[
		\gcd(a_1 + b_1, a_2 + b_2, \dots, a_m + b_m) < n.
	\]
\end{example*}

\begin{story*}
	Mục tiêu là tìm các \( b_i \leq n \) sao cho GCD của \( a_i + b_i \) nhỏ hơn \( n \).  
	Nếu có hai \( a_i \) bằng nhau hoặc lệch nhau 1, ta chọn hai \( b_i \) tạo thành hai số liên tiếp, từ đó GCD là 1.  
	Nếu không, ta xét \( n^m \) tổ hợp \( (b_1, \dots, b_m) \) trong khi số lượng GCD \( \geq n \) bị giới hạn. Theo \nameref{theorem:pigeonhole-principle}, hai bộ sẽ cho cùng một GCD \( d \geq n \), mâu thuẫn vì mỗi \( a_i \) chỉ cho phép một \( b_i \) sao cho \( a_i + b_i \equiv 0 \pmod{d} \).
\end{story*}

\begin{soln}\footnotemark
	\textbf{Bước 1:} Giả sử không mất tính tổng quát rằng \( a_1 \) là nhỏ nhất trong các \( a_i \).

	\textit{Trường hợp 1:} \( a_1 \geq n^m - 1 \)

	Nếu tất cả \( a_i = a_1 \), chọn \( b_1 = 1, b_2 = 2 \), các \( b_i \) còn lại tuỳ ý. Khi đó \( \gcd(a_1 + 1, a_1 + 2) = 1 \).  
	Nếu tồn tại \( a_j = n^m \), lấy \( b_1 = b_j = 1 \), được \( \gcd(n^m, n^m + 1) = 1 \).  
	Vậy chỉ cần xét \( a_1 \leq n^m - 2 \).

	\textbf{Bước 2:} Giả sử phản chứng rằng với mọi bộ \( (b_1, \dots, b_m) \in \{1, \dots, n\}^m \), ta có
	\[
		\gcd(a_1 + b_1, \dots, a_m + b_m) \geq n.
	\]

	Xét các bộ có \( b_1 = 1 \), và \( b_i \in \{1, 2, \dots, n\} \) với \( i > 1 \). Có \( n^{m-1} \) bộ như vậy, mỗi bộ cho một GCD \( d_j \geq n \) chia hết \( a_1 + 1 \).

	Với hai bộ khác nhau, tồn tại \( i > 1 \) sao cho \( b_i \) khác nhau, nên
	\[
		d_j, d_k \mid (a_i + b_i') - (a_i + b_i) = \pm 1 \implies \gcd(d_j, d_k) = 1.
	\]

	Vậy các \( d_j \) đôi một nguyên tố cùng nhau, và đều chia \( a_1 + 1 \), nên
	\[
		a_1 + 1 \geq n(n+1)^{n^{m-1} - 1} \implies a_1 \geq n^m,
	\]
	mâu thuẫn với \( a_1 \leq n^m \).

	\textbf{Kết luận:} Phản chứng sai, do đó tồn tại bộ \( (b_1, \dots, b_m) \in \{1, \dots, n\}^m \) sao cho
	\[
		\gcd(a_1 + b_1, \dots, a_m + b_m) < n.
	\]
\end{soln}

\footnotetext{\href{https://www.egmo.org/egmos/egmo4/solutions.pdf}{Lời giải chính thức.}}

\newpage

\begin{example*}[Bản nâng cao \gls{EGMO 2015}/P3]\label{example:EGMO-2015-P3-strong}\textbf{[\nameref{definition:25M}]}
	Với \( m, n > 1 \), giả sử \( a_1, \dots, a_m \) là các số nguyên dương sao cho có ít nhất một \( a_i \leq n^{2^{m-1}} \). 
	Chứng minh rằng tồn tại các số nguyên \( b_1, \dots, b_m \in \{1, 2\} \) sao cho:
	\[
		\gcd(a_1 + b_1, \dots, a_m + b_m) < n.
	\]
\end{example*}

\begin{story*}
	So với bài \nameref{example:EGMO-2015-P3}, bài nâng cao này giới hạn các \( b_i \in \{1, 2\} \), nhưng chỉ yêu cầu một \( a_i \leq n^{2^{m-1}} \).  
	Ta phản chứng: nếu mọi tổ hợp đều cho GCD \( \geq n \), thì với \( 2^{m-1} \) tổ hợp có \( b_1 = 1 \), các GCD phải là ước của \( a_1 + 1 \), đôi một nguyên tố cùng nhau.  
	Suy ra \( a_1 + 1 \) có ít nhất \( 2^{m-1} \) ước nguyên tố lớn hơn \( n \), dẫn đến bất đẳng thức mâu thuẫn.
\end{story*}

\begin{soln}\footnotemark
	Giả sử ngược lại rằng với mọi bộ \( (b_1, \dots, b_m) \in \{1, 2\}^m \), ta có
	\[
		\gcd(a_1 + b_1, \dots, a_m + b_m) \geq n.
	\]

	Xét các bộ có \( b_1 = 1 \), còn lại \( b_i \in \{1, 2\} \) với \( i > 1 \). Có \( 2^{m-1} \) bộ như vậy, mỗi bộ cho một GCD \( d_j \geq n \) chia hết \( a_1 + 1 \).

	Với hai bộ khác nhau, tồn tại \( i > 1 \) sao cho một bộ có \( b_i = 1 \), bộ kia có \( b_i = 2 \), suy ra
	\[
		d_j \mid a_i + 1,\quad d_k \mid a_i + 2 \implies \gcd(d_j, d_k) = 1.
	\]

	Vậy \( d_1, \dots, d_{2^{m-1}} \) là các ước số nguyên tố cùng nhau của \( a_1 + 1 \), mỗi \( d_j \geq n \), nên
	\[
		a_1 + 1 \geq n(n+1)^{2^{m-1} - 1} \implies a_1 \geq n^{2^{m-1}},
	\]
	mâu thuẫn với giả thiết \( a_i \leq n^{2^{m-1}} \).

	\textbf{Kết luận:} Tồn tại bộ \( (b_1, \dots, b_m) \in \{1, 2\}^m \) sao cho
	\[
		\gcd(a_1 + b_1, \dots, a_m + b_m) < n.
	\]
\end{soln}

\begin{remark*}
	Giới hạn \( n^{2^{m-1}} \) trong giả thiết có thể được cải thiện thêm.
\end{remark*}

\footnotetext{\samepage \href{https://www.egmo.org/egmos/egmo4/solutions.pdf}{Lời giải chính thức.}}

\end{document}