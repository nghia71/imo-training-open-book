\documentclass[../2015-n-s.tex]{subfiles}

\begin{document}

\begin{soln}[\autoref{problem:THA-2015-MO-P1}][\gls{THA 2015 MO}/P1][\footnotemark]
	Từ giả thiết:
	\[
		a_n a_{n+2} = a_{n+1}^2 + p,\quad a_{n+1} a_{n+3} = a_{n+2}^2 + p.
	\]

	Trừ hai vế:
	\[
		a_n a_{n+2} - a_{n+1}^2 = a_{n+1} a_{n+3} - a_{n+2}^2 \implies
		a_{n+2}(a_n + a_{n+2}) = a_{n+1}(a_{n+1} + a_{n+3}).
	\]

	Giả sử \( \gcd(a_{n+1}, a_{n+2}) = d > 1 \). Từ:
	\[
		a_n a_{n+2} = a_{n+1}^2 + p \implies d \mid p \implies d = p.
	\]

	Xét tiếp:
	\[
		a_{n+2} a_{n+4} = a_{n+3}^2 + p,\quad a_{n+1} a_{n+3} = a_{n+2}^2 + p.
	\]

	Vì \( p \mid a_{n+2} \), thì:
	\[
		a_{n+2} \equiv 0 \Mod{p} \implies a_{n+2}^2 \equiv 0 \Mod{p^2}
	\implies a_{n+1} a_{n+3} \equiv p \Mod{p^2}.
	\]

	Nhưng:
	\[
		a_{n+1}, a_{n+3} \equiv 0 \Mod{p} \implies a_{n+1} a_{n+3} \equiv 0 \Mod{p^2}
	\implies p \equiv 0 \Mod{p^2}
	\]
	là mâu thuẫn. Vậy \( \gcd(a_{n+1}, a_{n+2}) = 1 \).

	Từ:
	\[
		a_{n+2}(a_n + a_{n+2}) = a_{n+1}(a_{n+1} + a_{n+3})
	\]
	và \( \gcd(a_{n+1}, a_{n+2}) = 1 \implies a_{n+1} \mid a_n + a_{n+2} \)

	\textbf{Kết luận:} Ta đã chứng minh:
	\[
		\boxed{a_{n+1} \mid a_n + a_{n+2} \quad \text{với mọi } n}
	\]

	\vspace{1em}
	\textbf{[\nameref{definition:25M}]}\index{25M}.
	\textbf{Tham chiếu:} \nameref{theorem:prime-divides-product}. \nameref{theorem:coprime-divides-product}. \nameref{theorem:proof-by-contradiction}.
\end{soln}

\footnotetext{\href{https://artofproblemsolving.com/community/c1068820h2236874p29520199}{Lời giải của \textbf{rstenetbg}.}}

\end{document}